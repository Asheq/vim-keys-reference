<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../shared-styles.html">
<link rel="import" href="keys-table-styles.html">

<dom-module id="keys-table">
  <template>
    <style include="shared-styles"></style>
    <style include="keys-table-styles"></style>
    <div class="keys">
      <table class="keys__table">
        <!-- <thead class="keys__table-header"> -->
        <!--   <tr> -->
        <!--     <template is="dom-repeat" items="[[basicVariationsDisplay]]"> -->
        <!--       <th> -->
        <!--         [[item]] -->
        <!--       </th> -->
        <!--     </template> -->
        <!--   </tr> -->
        <!-- </thead> -->
        <tbody>
          <template is="dom-repeat" items="[[keys]]" as="keyObj">
            <tr>
              <template is="dom-repeat" items="[[_getVariationsOfKey(keyObj, showVariations)]]" as="variation">
                <td class$="keys__td--[[variation.type]]">
                  <div>
                    <!-- Pretty display -->
                    <div class="keys__td-pretty-display">
                      [[variation.prettyDisplay]]
                    </div>
                    <!-- Special icons -->
                    <template is="dom-if" if=[[variation.duplicates]]>
                      <span class="keys__special-icon">
                        <iron-icon icon="error-outline"></iron-icon>
                        <paper-tooltip position="top">
                          <p>Duplicate of [[variation.duplicates]]</p>
                        </paper-tooltip>
                      </span>
                    </template>
                    <template is="dom-if" if=[[variation.useless]]>
                      <span class="keys__special-icon">
                        <iron-icon icon="error"></iron-icon>
                        <paper-tooltip position="top">
                          <p>Useless to invoke manually</p>
                        </paper-tooltip>
                      </span>
                    </template>
                  </div>

                  <!-- Description -->
                  <template is="dom-if" if="[[showDescriptions]]">
                    <div class="keys__td-description">
                      <span>[[variation.description]]</span>
                    </div>
                  </template>

                </td>
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    </div>
  </template>

  <script src="keys-table.js"></script>
</dom-module>
